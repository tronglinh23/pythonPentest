from datetime import date
class Bank:
    def __init__(self):
        self.accounts = []
        self.loan = []

    def add_account(self, account):
        self.accounts.append(account)
        self.loan.append(0)
    
    # days > 100: 2%
    # days > 200: 3%
    # days > 300: 4%
    # days > 700: 5%
    def calculate_Profit_After_Time(self, account):
      dayPresent = date.today()
      diffDate = dayPresent - account.getTimeCreation()
      if diffDate.days > 700:
        return account.balance * 0.05
      elif diffDate.days > 300:
        return account.balance * 0.04
      elif diffDate.days > 200:
        return account.balance * 0.03
      elif diffDate.days > 100:
        return account.balance * 0.02
      
    def transferMoney(self, account1, id, amount):
      if amount <= account1.balance and amount > 0:
        for account in self.accounts:
          if account.id == id and account != account1:
            account1.balance -= amount
            account.balance += amount
            return True
          else:
            return False
      return False
    
    def get_Loan(self, account1, amount):
      for i in range(len(self.accounts)):
        if self.accounts[i] == account1:
          if (amount > 0 and amount <= 2500 and self.loan[i] == 0):
            if account1.balance > 200:
              account1.balance += amount
              self.loan[i] = 1
              return True
            return False 
          return False
      return False
          
    def __str__(self):
        return f"The bank has {len(self.accounts)} accounts."